<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <!-- Slide meta data, remove/edit as you see fit -->
        <title>shellscripting/1</title>
        <meta name="generator" content="Slippy" />
        <meta name="author" content="shashi gowda" />
        <meta name="company" content="nitk-lug" />
        <meta name="email" content="ur1.ca/9nb0" />
        <meta name="presdate" content="2010/10/02" />
        <!-- Slippy core file and dependencies -->
        <script type="text/javascript" src="../slippy/jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="../slippy/jquery.history.js"></script>
        <script type="text/javascript" src="../slippy/slippy-0.9.0.js"></script>
        <!-- Slippy structural styles -->
        <link type="text/css" rel="stylesheet" href="../slippy/slippy-0.9.0.css"/>
        <!-- Slippy theme -->
        <link type="text/css" rel="stylesheet" href="../slippy/slippy-pure.css"/>
        <!-- Syntax highlighting core file  -->
        <script type="text/javascript" src="../slippy/highlighter/shCore.js"></script>
        <!-- Syntax highlighting brushes, remove those you don't need -->
        <script type="text/javascript" src="../slippy/highlighter/shBrushBash.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushCpp.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushCSharp.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushCss.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushDelphi.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushDiff.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushGroovy.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushJava.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushJScript.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushPhp.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushPlain.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushPython.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushRuby.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushScala.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushSql.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushVb.js"></script>
        <script type="text/javascript" src="../slippy/highlighter/shBrushXml.js"></script>
        <!-- Syntax highlighting styles-->
        <link type="text/css" rel="stylesheet" href="../slippy/highlighter/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../slippy/highlighter/shThemeEclipse.css"/>
        <!-- Slippy init code -->
        <script type="text/javascript">
            $(function() {
                $(".slide").slippy({
                    // settings go here
                    // possible values are:
                    animLen: 0//  - animLen, duration for default animations (0 = disabled)
                    //  - animInForward, receives a slide and animates it
                    //  - animInRewind, receives a slide and animates it
                    //  - animOutForward, receives a slide and animates it
                    //  - animOutRewind, receives a slide and animates it
                    //  - baseWidth, defines the base for img resizing, if you don't want only
                    //    full-width images, specify this as the pixel width of a slide so that
                    //    images are scaled properly (defaorult is 620px wide)
                    //  - ratio, defines the width/height ratio of the slides, defaults to 1.3 (620x476)
                    
                });
                SyntaxHighlighter.all();
            });
        </script>
        <!-- Custom style for this deck -->
        <style type="text/css">
            .slide.nochrome {
                border: 0;
                background: 0;
            }
        </style>
    </head>
    <body>
        <div class="slide">

<h1 class="vcenter">hi!</h1>
</div>
<div class="slide">
<h1 class="vcenter">learn bash scripting in 30 mins</h1>
</div>
<div class="slide">
<h1 class="vcenter">learn programming in 30 mins</h1>
</div>
<div class="slide">
<h1 class="vcenter"><span class="caps">FAIL</span></h1>
</div>
<div class="slide">
<div class="vcenter">
<p><strong>you can never finish, you can only start and keep getting better</strong> &#8212; me</p>
</div>
</div>
<div class="slide">
<h1 class="vcenter">ok dude, what do you want?</h1>
</div>
<div class="slide">
<h1 class="vcenter">i want you to leave!</h1>
</div>
<div class="slide">
<h1 class="vcenter">&#8230;get up and run! don&#8217;t stop.</h1>
</div>
<div class="slide">
<h1 class="vcenter">i want you to want to learn it all.</h1>
</div>
<div class="slide">
<h1 class="vcenter">and feel good</h1>
</div>
<div class="slide">
<div class="vcenter hcenter">
<h2>agenda</h2>
<ul>
	<li>some know-what</li>
	<li>awesomeness</li>
	<li>some know-how</li>
	<li>questions</li>
	<li>appendix</li>
	<li>awesomeness</li>
</ul>
</div>
</div>
<div class="slide">
<h1 class="vcenter">bash?</h1>
</div>
<div class="slide">
<h1 class="vcenter">bourne-again shell?</h1>
</div>
<div class="slide">
<h1 class="vcenter">bourne shell</h1>
</div>
<div class="slide">
<h1 class="vcenter">bourne?</h1>
</div>
<div class="slide">
<h1 class="vcenter">some guy</h1>
</div>
<div class="slide">
<h1 class="vcenter">ok, shell?</h1>
</div>
<div class="slide">
<h1 class="vcenter">OS?</h1>
</div>
<div class="slide">
<h1 class="vcenter">OS = kernel + some programs</h1>
</div>
<div class="slide">
<h1 class="vcenter">kernel?</h1>
</div>
<div class="slide">
<h1 class="vcenter">nevermind, it&#8217;s boring</h1>
</div>
<div class="slide">
<h1 class="vcenter">fine, programs?</h1>
</div>
<div class="slide">
<h1 class="vcenter">they do something</h1>
</div>
<div class="slide">
<h1 class="vcenter">srsly, what&#8217;s shell?</h1>
</div>
<div class="slide">
<h1 class="vcenter">it&#8217;s a program</h1>
</div>
<div class="slide">
<h1 class="vcenter">it helps run programs</h1>
</div>
<div class="slide">
<h1 class="vcenter">also a programming language, of sorts</h1>
</div>
<div class="slide">
<h1 class="vcenter">what&#8217;s special about this bash, shell. thing.</h1>
</div>
<div class="slide">
<h1 class="vcenter">it&#8217;s the default shell in most linux systems</h1>
</div>
<div class="slide">
<h1 class="vcenter">linux?</h1>
</div>
<div class="slide">
<h1 class="vcenter">unix-like.</h1>
</div>
<div class="slide">
<h1 class="vcenter">unix?</h1>
</div>
<div class="slide">
<h1 class="vcenter">OS? anything more?</h1>
</div>
<div class="slide">
<h1 class="vcenter">with some philosophies&#8230;</h1>
</div>
<div class="slide">
<h2 class="hcenter vcenter">&#8220;Write programs that do one thing and do it well. Write programs to work together.&#8221; &#8212; Doug McIlroy</h2>
</div>
<div class="slide">
<h2 class="vcenter">shell is what helps you make the programs work well together.</h2>
</div>
<div class="slide">
<h1 class="vcenter">shell is the glue.</h1>
</div>
<div class="slide">
<h1 class="vcenter">bash is fevicol.</h1>
</div>
<div class="slide">
<h1 class="vcenter">it&#8217;s everywhere.</h1>
</div>
<div class="slide">
<h1 class="vcenter">it&#8217;s customizable (lmgtfy.com?q=customizing+bash)</h1>
</div>
<div class="slide">
<h1 class="vcenter">it stalks you. etc.</h1>
</div>
<div class="slide">
<h1 class="vcenter">&#8220;shell is a way of mind.&#8221; &#8212; me</h1>
</div>
<div class="slide">
<h1>what does it look like?</h1>
<pre class="brush: bash">
tweet() {
    read password
    curl -u shashi:$password \
        http://twitter.com/api/1/statuses/update.xml -d "status_text=$1"
}
</pre>

<pre class="brush: bash">
#!/bin/bash
# phew.

grep "$1" -irc . | sort -nrt ':' -k 2 | head -15 | sed s/:.*$//

</pre>
<p>^ unix tool chain ftw!<br />
<pre class="brush: bash"><br />
#!/usr/bin/env bash</p>
<p>echo &#8220;<span class="caps">NICK</span> shbot<br />
<span class="caps">USER</span> $(whoami) +iw shbot :$0<br />
<span class="caps">JOIN</span> #lug-nitk&#8221; &gt;&gt; shellbot.input</p>
<p>tail -f shellbot.input | telnet irc.freenode.net 6667 | \<br />
   while true<br />
   do read <span class="caps">LINE</span> || break</p>
echo $<span class="caps">LINE</span>
if echo $<span class="caps">LINE</span> | egrep &#8220;shbot: ping$&#8221; &amp;&gt; /dev/null
then echo &#8220;<span class="caps">PRIVMSG</span> #lug-nitk :pong&#8221; &gt;&gt; shellbot.input
fi
done
<p></pre></p>
<pre class="brush: bash">
while true; do xdotool click 1; done
</pre>
<p>^ aybabtu!</p>
</div>
<div class="slide">
<h1 class="vcenter">what the&#8230;</h1>
</div>
<div class="slide">
<h1 class="vcenter">let&#8217;s dive in</h1>
</div>
<div class="slide">
<h1 class="vcenter">invoking<br />
applications &#8212; accessories &#8212; terminal<br />
/bin/bash script_file_name</h1>
</div>
<div class="slide">
<h1>the atom</h1>
<pre class="brush: bash">
echo 'Hello, World!'
</pre>

<pre class="brush: bash">
echo Hello, World!
</pre>

<pre class="brush: bash">
echo Hello,          World!
</pre>

<pre class="brush: bash">
echo -e Hello,          World!
</pre>

<pre class="brush: bash">
find . -name "file_pattern" -exec rm -rf {} \;
</pre>
</div>
<div class="slide">
<h1>structure of a command</h1>
<pre class="brush: bash">
program_name some arguments -option1 -option2 "argument for option2" more arguments "for the" command
</pre>
</div>
<div class="slide">
<h1>what&#8217;s a bash script?</h1>
<ul>
	<li>it&#8217;s just a bunch of bash commands</li>
	<li>it&#8217;s like a batch file in windows, but only, more turing complete</li>
</ul>
<p>a bash script file has the following form:<br />
<pre class="brush: bash"><br />
#!/bin/bash<br />
&#8230;.</p>
<ol>
	<li>commands<br />
&#8230;.<br />
</pre></li>
</ol>
<p>the first line is not a command, it tells that the file is a bash script</p>
</div>
<div class="slide">
<h1>goo and the pipes</h1>
<ul>
	<li>commands give out goo</li>
	<li>some take and mix goo and give out more goo</li>
	<li>pipes connect two commands so they can transfer and process goo</li>
	<li>text is goo, for now</li>
</ul>
</div>
<div class="slide">
<h1>pipes?</h1>
<ul>
	<li>yeah, they connect commands, their input and output.</li>
	<li>how do pipes look?</li>
	<li>like bugs in your code</li>
</ul>
<p>&gt; &lt; | &gt;&gt; tee</p>
</div>
<div class="slide">
<h2>&gt;</h2>
<p>put ouput to a file</p>
<pre class="brush: bash">
echo 'Hello, World!' &gt; hello_file
cat hello_file     # cat reads a file
</pre>
</div>
<div class="slide">
<h2>&lt;</h2>
<p>read a file and use its content as input<br />
<pre class="brush: bash"><br />
cowsay &lt; hello_file<br />
</pre></p>
</div>
<div class="slide">
<h2>|</h2>
<p>sends the output of the command to the left as the input of command to the right<br />
<pre class="brush: bash"><br />
echo &#8216;Moo. Moo!&#8217; | cowsay<br />
</pre></p>
</div>
<div class="slide">
<h2>&gt;&gt;</h2>
<p>appends output to a file<br />
<pre class="brush: bash"><br />
cowsay &lt; hello_file &gt;&gt; hello_ascii<br />
</pre></p>
</div>
<div class="slide">
<h2>tee</h2>
<p>a T-joint in the pipes. one input two outputs<br />
<pre class="brush: bash"><br />
echo &#8216;Hello, there!&#8217; | tee hello_file | cowsay<br />
</pre></p>
</div>
<div class="slide">
<h1>the standard files</h1>
<h2>/dev/tty</h2>
<pre class="brush: bash">
cat hello_file &gt; /dev/tty
</pre>
<p>/dev/tty by default is the screen, anything you pipe there comes on the screen</p>
<h2>/dev/stdin</h2>
<pre class="brush: bash">
cat /dev/stdin
</pre>
</div>
<div class="slide">
<h2>/dev/null</h2>
<pre class="brush: bash">
cat hello_file &gt; /dev/null
</pre>
<p>/dev/null is a blackhole</p>
</div>
<div class="slide">
<h1>more fun files</h1>
<h2>/dev/audio</h2>
<p>legend has it that you can hear god!</p>
<pre class="brush: bash">
cat /vmlinuz &gt; /dev/audio
</pre>

<pre class="brush: bash">
cat /dev/audio &gt; /tmp/myvoice
</pre>

<pre class="brush: bash">
cat /tmp/myvoice &gt; /dev/audio
</pre>
<h2>/dev/*</h2>
</div>
<div class="slide">
<h1>how pipes work?</h1>
<ul>
	<li>the actual programs that read and write text just use the standard input and output</li>
	<li>in other words they just do simple printf scanf calls</li>
	<li>to redirect input and output is the job of the shell</li>
	<li>so how does it do it?</li>
</ul>
</div>
<div class="slide">
<h1>here&#8217;s how:</h1>
<p>consider,<br />
<pre class="brush: bash"><br />
program1 &lt; input_file | program2 | program3<br />
</pre></p>
<ul>
	<li>the shell first reads the pipe characters like &lt;, &gt;, |, &gt;&gt; etc</li>
	<li>it then sets up the operation they stand for</li>
	<li>then <strong>parallelly</strong> execute the programs (in a separate instance of the shell for each program)<br />
so before anything happens:</li>
	<li>program3 is started and made to wait for program2&#8217;s output</li>
	<li>program2 is started and made to wait for program1&#8217;s output</li>
	<li>program1 is started and made to wait for input_file to be read</li>
	<li>as the input file is read
	<ul>
		<li>program1 devours it and spits output</li>
		<li>program2 immediately grabs program1&#8217;s output and gives more output</li>
		<li>program3 then uses program2&#8217;s output</li>
	</ul></li>
	<li>all of this happens without program1, 2, 3 knowing where the input is coming from or the output is going to.</li>
	<li>it&#8217;s the job of the shell to pipe them</li>
	<li>the shell is awesome</li>
</ul>
</div>
<div class="slide">
<h1 class="vcenter">ok, all you taught us till now is how to make cows say stuff. where is the good stuff?</h1>
</div>
<div class="slide">
<h1 class="vcenter">i can make cows think too!</h1>
</div>
<div class="slide">
<pre class="vcenter brush: bash">
echo Look ma'!' I
        <div class="layout" name="default">
            <content></content>
            <div class="footer">
                <hr class="defloat" />
            </div>
        </div>

        <div class="layout nochrome" name="alt">
            <content></content>
        </div>
    </body>
</html>
</html>
m thinking'!' | cowthink
 ________________________
( Look ma! I'm thinking! )
 ------------------------
        o   ^__^
         o  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
</pre>
</div>
<div class="slide">
<h1 class="vcenter">srsly?</h1>
</div>
<div class="slide">
<h1>what other stuff do programs give out other than goo?</h1>
<ul>
	<li>programs give out an exit status after they finish</li>
	<li>exit status is an integer from 0 to 255</li>
	<li>0 means win!</li>
	<li>anything else means a fail of some sort.</li>
</ul>
</div>
<div class="slide">
<h1 class="vcenter">how do i use these exit statuses?</h1>
</div>
<div class="slide">
<h1>execution control</h1>
<ul>
	<li>conditional operators</li>
	<li>the if block</li>
	<li>the [</li>
	<li>the while loop</li>
</ul>
</div>
<div class="slide">
<h1 class="vcenter">condtions</h1>
</div>
<div class="slide">
<h2>&amp;&amp;</h2>
<p>&amp;&amp; stands for <strong>and</strong></p>
<pre class="brush: bash">
this_is_boring &amp;&amp; kill_me
</pre>
<ul>
	<li>it basically returns the exit status of the second command (i.e kill me) if the first one succeeds, if it doesn&#8217;t it returns the exit status of the first command (this_is_boring)</li>
	<li>so, if the first one fails it wont execute the second one</li>
	<li>so, this is basically saying kill me if this is boring</li>
	<li>you can do a lot more if you use a ()<br />
<pre class="brush: bash"><br />
this_is_boring &amp;&amp; ( kill_me &amp;&amp; walk_out )<br />
</pre></li>
</ul>
</div>
<div class="slide">
<h1>||</h1>
<pre class="brush: bash">
call_me || text_me
</pre>
<ul>
	<li>|| returns the exit status of the second command only if the first command fails</li>
	<li>this says &#8220;text me if calling doesn&#8217;t work&#8221;</li>
</ul>
<p>you can even,</p>
<pre class="brush: bash">
 ( kill_me &amp;&amp; walk_out ) || ( sit_down &amp;&amp; listen )
</pre>
</div>
<div class="slide">
<h1>the if block</h1>
<ul>
	<li>the if block has this form:<br />
<pre class="brush: bash"><br />
 if some_command; do</li>
	<li>do something<br />
 fi<br />
</pre></li>
</ul>
</div>
<div class="slide">
<h1>the while loop</h1>
<ul>
	<li>the while loop has this form:<br />
<pre class="brush: bash"><br />
 while something_is_true; do</li>
	<li>do something<br />
 done<br />
</pre></li>
</ul>
</div>
<div class="slide">
<h1>[</h1>
<ul>
	<li>it&#8217;s an alias for test</li>
	<li>can be used to check conditions</li>
	<li>some options -e -ne -gt -lt -f -d -z
	<ul>
		<li>= =&gt; equals</li>
		<li>-ne =&gt; not equal to</li>
		<li>-lt =&gt; less than # rmember? &lt; is a pipe</li>
		<li>-gt =&gt; greater than</li>
		<li>-e  =&gt; does Sa file/directory exist</li>
		<li>-f  =&gt; does a file exist</li>
		<li>-d  =&gt; does a directory exist</li>
		<li>-z is the string zero length?</li>
	</ul></li>
</ul>
<ul>
	<li>see <code>man [</code></li>
</ul>
<p>for examples see this:http://www.ibm.com/developerworks/library/l-bash-test.html</p>
</div>
<div class="slide">
<h1>the for loop</h1>
<ul>
	<li>a typical for loop has this form:<br />
<pre class="brush: bash"><br />
 for <span class="caps">VARNAME</span> in {1&#8230;$N}; do</li>
	<li>do something using <span class="caps">VARNAME</span><br />
 done</li>
</ul>
#OR

for <span class="caps">VARNAME</span> in a b c 1 2 3 h a s; do
<ol>
	<li>do something using <span class="caps">VARNAME</span><br />
 done<br />
</pre></li>
</ol>
</div>
<div class="slide">
<h1>a quick look at variables</h1>
<h2>assigning a variable</h2>
<ul>
	<li>string is the only datastructure in bash!</li>
</ul>
<pre class="brush: bash">
    var_name=somestring
    echo $var_name
    var_name=`command`  #puts the output of the command in the variable
</pre>
</div>
<div class="slide">
<h1 class="vcenter">leap of faith, let&#8217;s go to <a href="#43">#43</a> and try to understand</h1>
</div>
<div class="slide">
<h1 class="vcenter">we&#8217;re done</h1>
</div>
<div class="slide">
<h1 class="vcenter">no seriously, <strong>we</strong> are done</h1>
</div>
<div class="slide">
<h1 class="vcenter">now it&#8217;s your turn</h1>
</div>
<div class="slide">
<h1 class="vcenter">go rtfm</h1>
</div>
<div class="slide">
<h1 class="vcenter">appendix</h1>
</div>
<div class="slide">
<h1 class="vcenter">the unix toolchain</h1>
</div>
<div class="slide">
<h1 class="vcenter">the unix guru&#8217;s toolchain</h1>
</div>
<div class="slide">
<h1>the unix guru&#8217;s toolchain</h1>
<ul>
	<li>grep &#8212; finds goo</li>
	<li>sed  &#8212; stream editor</li>
	<li>awk  &#8212; a full-blown programming language</li>
	<li>sort &#8212; sorts goo</li>
	<li>and other programs of sorts..</li>
</ul>
</div>
<div class="slide">
<h1 class="vcenter">the unix user&#8217;s toolchain</h1>
</div>
<div class="slide">
<h1>the unix user&#8217;s toolchain</h1>
<ul>
	<li>man</li>
</ul>
<p>man&#8217;s everything you need to know.<br />
so run <code>man man</code> to find out what it is.</p>
</div>
<div class="slide">
<h1>a to-read list</h1>
<pre class="brush: bash">
man man
man bash
man apropos
man info
man [
man grep
man sed
man expr
man grep
man awk
</pre>
</div>
<div class="slide">
<h1 class="vcenter">questions?</h1>
</div>
<div class="slide">
<h1 class="vcenter">thank you.</h1>
</div>
        <div class="layout" name="default">
            <content></content>
            <div class="footer">
                <hr class="defloat" />
            </div>
        </div>

        <div class="layout nochrome" name="alt">
            <content></content>
        </div>
    </body>
</html>
</html>
